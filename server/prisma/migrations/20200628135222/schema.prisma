datasource db {
  provider = "postgresql"
  url = "***"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       String   @id @default(cuid())
  name     String
  email    String   @unique
  password String
  salt     String   @unique
  avatar   String
  players  Player[]
}

model Player {
  id     String   @id @default(cuid())
  user   User     @relation(fields: [userId], references: [id])
  userId String
  team   String
  gameId String
  game   Game     @relation(fields: [gameId], references: [id])
  hand   String[]
}

model Game {
  id          String         @id @default(cuid())
  code        String         @unique
  players     Player[]
  status      GameStatus     @default(NOT_STARTED)
  playerCount Int            @default(6)
  teams       String[]
  activity    GameActivity[]
}

model GameActivity {
  id          String           @id @default(cuid())
  description String
  kind        GameActivityKind
  game        Game             @relation(fields: [gameId], references: [id])
  gameId      String
}

enum GameActivityKind {
  PLAYER_JOINED
  TEAMS_CREATED
  GAME_STARTED
}

enum GameStatus {
  NOT_STARTED
  TEAMS_CREATED
  IN_PROGRESS
  COMPLETED
}
